import{_ as e}from"./JCodeOneC.475fa1b9.js";import{_ as a}from"./_plugin-vue_export-helper.cdc0426e.js";import{o as r,c as s,Q as t,S as l,a as o,d as n,l as d,C as u,E as i,b as c,w as v,j as p,k as m,g as _,J as w,aa as b,v as g,e as f,t as C,u as y,F as q,r as k}from"./index.3d8eecac.js";import{a as R}from"./FilterSourcesSelectC.vue_vue_type_script_setup_true_lang.78ed9591.js";import"./MyDialogC.5a19b343.js";import"./NotificationsClass.1488b90c.js";import"./LangSelectSwitchC.vue_vue_type_script_setup_true_lang.e21d6001.js";import"./MySwitchC.634f0b7a.js";const h={},E=e=>(t("data-v-54a5f38b"),e=e(),l(),e),S={class:"lds-ellipsis"},j=[E((()=>o("div",null,null,-1))),E((()=>o("div",null,null,-1))),E((()=>o("div",null,null,-1))),E((()=>o("div",null,null,-1)))];const x=a(h,[["render",function(e,a){return r(),s("div",S,j)}],["__scopeId","data-v-54a5f38b"]]),D={key:0,class:"w3-dropdown-content w3-bar-block w3-border w3-card-4 w3-show w3-padding-small w3-round-medium animate__faster w3-theme"},V=n({__name:"MyDropDownC",props:{disabled:{type:Boolean,default:()=>!1}},setup(e,{expose:a}){const t=e,l=d(!1),n=d(),_=()=>{t.disabled||(l.value=!l.value)};return u(n,(()=>{l.value=!1})),a({toggleVis:_}),(e,a)=>(r(),s("div",{class:"w3-dropdown-click",ref_key:"dropdown",ref:n},[o("div",{onClick:_},[i(e.$slots,"trigger")]),c(m,{appear:"","enter-active-class":"animate__animated animate__fadeInDown","leave-active-class":"animate__animated animate__fadeOutUp",mode:"out-in"},{default:v((()=>[l.value?(r(),s("div",D,[i(e.$slots,"content")])):p("",!0)])),_:3})],512))}}),J={class:"w3-bar-block w3-padding-small"},B=n({__name:"JCodeReqClearButC",props:{isReq:{type:Boolean,default:!1}},emits:["stopReq","startReq"],setup(e,{emit:a}){const t=e,l=d(),n=_((()=>1===w.availableEcus.value.length)),u=d([]),i=_((()=>1===u.value.length)),m=d(0),{pause:q,resume:k}=b((function(){1===u.value.length&&(m.value++,t.isReq?w.ErrorsDecoder.sendRequestErrors(u.value[0]):w.ErrorsDecoder.sendClearErrors(u.value[0]),m.value>=3&&(t.isReq?(q(),a("stopReq")):(w.ErrorsDecoder.sendRequestErrors(u.value[0]),m.value>=6&&(q(),a("stopReq")))))}),1e3),h=()=>{m.value=0,k(),l.value.toggleVis(),a("startReq")},E=()=>{if(1===w.availableEcus.value.length)return u.value[0]=w.availableEcus.value[0].srcAdr,void h()};return g((()=>q())),(a,t)=>{const d=R,m=V;return r(),f(m,{ref_key:"dropdown",ref:l,disabled:y(n)},{trigger:v((()=>[o("button",{class:"w3-button w3-border w3-round-medium w3-hover-theme w3-padding-small",onClick:E},C(e.isReq?"Запросить":"Очистить"),1)])),content:v((()=>[o("div",J,[c(d,{"only-one":"",modelValue:u.value,"onUpdate:modelValue":t[0]||(t[0]=e=>u.value=e),class:"w3-bar-item w3-padding-small",style:{width:"80px"},"but-text":"ECU"},null,8,["modelValue"]),y(i)?(r(),s("button",{key:0,class:"w3-bar-item w3-button w3-circle w3-right w3-padding-small w3-border w3-center",style:{width:"40px","background-color":"var(--color-ok)",color:"var(--color-text)"},onClick:t[1]||(t[1]=e=>h())}," Ок ")):p("",!0)])])),_:1},8,["disabled"])}}}),M=n({__name:"JStoredCodesC",setup(a){w.ErrorsDecoder.langSelect;const t=w.ErrorsDecoder.storeErrorsArr,l=d(!1);return(a,n)=>{const d=B,u=x,i=e;return r(),s("div",null,[c(d,{"is-req":"",onStartReq:n[0]||(n[0]=e=>l.value=!0),onStopReq:n[1]||(n[1]=e=>l.value=!1)}),c(d,{style:{"margin-left":"6px"},onStartReq:n[2]||(n[2]=e=>l.value=!0),onStopReq:n[3]||(n[3]=e=>l.value=!1)}),o("div",null,[l.value?(r(),f(u,{key:0})):(r(!0),s(q,{key:1},k(y(t),(e=>(r(),f(i,{key:e._id,"is-stored":"","err-obj":e},null,8,["err-obj"])))),128))])])}}});const U=a({name:"JStoredCodesV"},[["render",function(e,a,s,t,l,o){const n=M;return r(),f(n)}]]);export{U as default};
