import{_ as e}from"./MyDialogC.d9e72b3a.js";import{_ as a}from"./NotificationsClass.cdcf2e83.js";import{d as l,U as s,o as n,e as i,w as t,u as d,i as o,j as r,k as p,R as u,_ as c,l as v,m,V as g,g as w,y as b,c as f,a as h,t as _,b as y,X as S,Y as k,J as P,Z as C,$ as I,v as E,H as x,I as B,x as G,q as O,F as j,r as z}from"./index.77c09d35.js";import{_ as D}from"./MySwitchC.9a5759d2.js";import{G as J}from"./GraphDataClass.e364eb26.js";import{_ as T}from"./LangSelectSwitchC.986664fe.js";const W=c(l({__name:"SpnGoToButC",props:{trigger:{type:Boolean,default:!1},icon:{type:String,required:!0},routeName:{type:String,required:!0},tooltip:{type:String,required:!0},colorVar:{type:String,required:!0}},setup(e){const l=e,c=s(l);return(e,s)=>{const v=a;return n(),i(p,{appear:"","enter-active-class":"animate__animated animate__bounceInLeft","leave-active-class":"animate__animated animate__bounceOutRight",mode:"out-in"},{default:t((()=>[d(c).trigger.value?(n(),i(v,{key:0,icon:d(c).icon.value,tooltip:d(c).tooltip.value,class:"icon-size-default",style:o(`color: var(${d(c).colorVar.value}); cursor: pointer`),onClick:s[0]||(s[0]=e=>{u.goToName(l.routeName)})},null,8,["icon","tooltip","style"])):r("v-if",!0)])),_:1})}}}),[["__file","/home/pavel/Документы/WEBPROJECTS/WebEmbeddedGithub/src/components/j1939/components/JParams/Spns/SpnGoToButC.vue"]]),R=c(l({__name:"SpnToGraphSwitchC",props:{spn_id:{type:String,required:!0}},setup(e){const a=e,l=v(J.spnIdExistInList(a.spn_id));return m((()=>l.value),(()=>{J.addDeleteSpnId(a.spn_id,l.value)})),(e,a)=>{const s=D;return n(),i(s,{modelValue:l.value,"onUpdate:modelValue":a[0]||(a[0]=e=>l.value=e)},null,8,["modelValue"])}}}),[["__file","/home/pavel/Документы/WEBPROJECTS/WebEmbeddedGithub/src/components/j1939/components/Graph/SpnToGraphSwitchC.vue"]]),q={key:0,class:"w3-card"},L={class:"w3-bar",style:{width:"100%"}},$=h("label",{class:"w3-bar-item w3-padding-small",style:{"font-size":"16px","font-weight":"bold"}},"Название: ",-1),A={class:"w3-bar-item w3-padding-small"},N={key:0,style:{width:"100%"}},V=h("label",{class:"w3-bar-item w3-padding-small",style:{"font-size":"16px","font-weight":"bold"}},"Значение: ",-1),M={class:"w3-bar-item w3-padding-small description-value"},F={class:"w3-bar",style:{width:"100%"}},U=h("label",{class:"w3-bar-item w3-padding-small",style:{"font-size":"16px","font-weight":"bold"}},"Пределы: ",-1),H={class:"w3-bar-item w3-padding-small description-value"},X={class:"w3-bar"},Y=h("label",{class:"w3-bar-item w3-padding-small",style:{"font-size":"16px","font-weight":"bold"}},"Перевод: ",-1),Z={key:1,class:"w3-bar"},K=h("label",{class:"w3-bar-item w3-padding-small",style:{"font-size":"16px","font-weight":"bold"}},"На график: ",-1),Q={class:"w3-bar"},ee=h("label",{class:"w3-bar-item w3-padding-small",style:{"font-size":"16px","font-weight":"bold"}},"Описание: ",-1),ae={class:"w3-bar-item w3-padding-small"},le={key:2,class:"w3-bar"},se=h("label",{class:"w3-bar-item w3-padding-small",style:{"font-size":"16px","font-weight":"bold"}},"Получен от устройства: ",-1),ne={class:"w3-bar-item w3-padding-small"},ie={class:"w3-bar"},te=h("label",{class:"w3-bar-item w3-padding-small",style:{"font-size":"16px","font-weight":"bold"}},"Входит в группу: ",-1),de={key:1,class:"w3-bar-item w3-padding-small"},oe=c(l({__name:"SpnDescriptionC",props:{spn_id:{type:String,required:!0},withPgnLink:{type:Boolean,default:!1},withData:{type:Boolean,default:!0}},setup(e){var a;const l=e,s=v(!1),t=g("decoder"),o=t.getSpnPrint(l.spn_id),p=o._id,u=o.id,c=o.srsAdr,m=w((()=>`${o.value.value} ${(null==o?void 0:o.unit)||""}`)),S=(null==(a=t.availableEcus.value.find((e=>e.srcAdr==o.srsAdr)))?void 0:a.alias)||"",k=v(),P=v(),C=v(),I=v(""),E=w((()=>t.langIsRu.value?o.name_ru:o.name)),x=w((()=>t.langIsRu.value?o.discr_ru:o.discr_en));return b((async()=>{var e,a;k.value=await t.getSpnTemplate(o.id),P.value=await t.getPgnTemplate((null==(e=k.value)?void 0:e.PGNref)||999999),I.value=(null==(a=P.value)?void 0:a.short)||"",C.value=t.allPgns.value.find((e=>{var a;return e.lid===(null==(a=k.value)?void 0:a.PGNref)})),s.value=!0})),(a,l)=>{var t,o;const v=T,g=R,w=qe;return s.value?(n(),f("div",q,[h("div",L,[$,h("span",A,_(d(E))+" ("+_(d(u))+")",1)]),e.withData?(n(),f("div",N,[V,h("label",M,_(d(m)),1)])):r("v-if",!0),h("div",F,[U,h("label",H,_(null==(t=k.value)?void 0:t.data_range),1)]),h("div",X,[Y,y(v,{class:"w3-bar-item w3-padding-small"})]),e.withData?(n(),f("div",Z,[K,y(g,{class:"w3-bar-item w3-padding-small",spn_id:d(p)},null,8,["spn_id"])])):r("v-if",!0),h("div",Q,[ee,h("label",ae,_(d(x)),1)]),e.withData?(n(),f("div",le,[se,h("label",ne,_(d(c))+" ("+_(d(S))+")",1)])):r("v-if",!0),h("div",ie,[te,e.withPgnLink&&C.value?(n(),i(w,{key:0,class:"w3-bar-item w3-padding-small","pgn-id":null==(o=C.value)?void 0:o._id},null,8,["pgn-id"])):(n(),f("label",de,"("+_(I.value)+")",1))])])):r("v-if",!0)}}}),[["__file","/home/pavel/Документы/WEBPROJECTS/WebEmbeddedGithub/src/components/j1939/components/JParams/Spns/SpnDescriptionC.vue"]]),re=c(l({__name:"SpnDescriptionButC",props:{spn_id:{type:String,required:!0},withPgnLink:{type:Boolean,default:!1}},setup:l=>(s,d)=>{const o=a,r=oe,p=e;return n(),i(p,null,{trigger:t((()=>[y(o,{icon:"Menu",tooltip:"Подробнее...",class:"icon-button",size:"small"})])),content:t((()=>[y(r,{class:"w3-container",spn_id:l.spn_id,"with-pgn-link":l.withPgnLink},null,8,["spn_id","with-pgn-link"])])),_:1})}}),[["__file","/home/pavel/Документы/WEBPROJECTS/WebEmbeddedGithub/src/components/j1939/components/JParams/Spns/SpnDescriptionButC.vue"]]),pe={class:"w3-card-2 w3-hover-shadow w3-border-theme w3-border w3-round-medium w3-padding-small card-common"},ue={style:{display:"inline-flex"}},ce={class:"w3-bar-item w3-padding-small",style:{display:"inline-grid"}},ve={class:"w3-text-theme fill-content-dots"},me={class:"w3-row"},ge={class:"fill-content-dots",style:{"font-weight":"bold"}},we=c(l({__name:"SpnOneC",props:{spn:{type:Object,required:!0},withPgnLink:{type:Boolean,default:!1},isSelect:{type:Boolean,default:()=>!1}},setup(e){const a=e,l=v(""),{isOutOfBound:t,value:p}=s(a.spn),u=v(""),c=w((()=>S.selectedSpns.value.findIndex((e=>e===a.spn.id))>-1)),m=e=>{const l=e.target;if(console.log("selchanged ",l.checked),l.checked)S.selectedSpns.value.push(a.spn.id);else{const e=S.selectedSpns.value.findIndex((e=>e===a.spn.id));S.selectedSpns.value.splice(e,1)}},g=v(),{pause:b}=k((()=>{g.value=P.ErrorsDecoder.activeErrorsArr.value.find((e=>P.ErrorsDecoder.getSpnIdFromErr(e)===a.spn._id))}),1e3,{immediate:!0}),y=w((()=>P.langIsRu.value?a.spn.name_ru:a.spn.name));C(p,(()=>{l.value=`${p.value} ${a.spn.unit||""}`,u.value=P.unitsColorsObj.value[a.spn.unit||"str"]}),{debounce:200,maxWait:500,immediate:!0});const O=w((()=>!!g.value)),j=w((()=>{var e,a,l,s;return g.value?(null==(e=g.value)?void 0:e.description)?P.ErrorsDecoder.langSelect.value?null==(l=g.value)?void 0:l.description.fmi.name_ru:null==(s=g.value)?void 0:s.description.fmi.name_en:`FMI -${null==(a=g.value)?void 0:a.FMI}`:""})),z=I(J.spnsInGraphIds,(e=>e===a.spn._id));return E((()=>b())),(a,s)=>{const t=re,p=W;return n(),f("div",pe,[h("div",ue,[e.isSelect?x((n(),f("input",{key:0,class:"w3-check w3-theme",type:"checkbox","onUpdate:modelValue":s[0]||(s[0]=e=>G(c)?c.value=e:null),onChange:m},null,544)),[[B,d(c)]]):(n(),i(t,{key:1,class:"w3-bar-item w3-padding-small",style:{width:"30px"},spn_id:e.spn._id,"with-pgn-link":e.withPgnLink},null,8,["spn_id","with-pgn-link"])),h("div",ce,[h("span",ve,_(d(y)),1)]),e.isSelect?r("v-if",!0):(n(),i(p,{key:2,class:"w3-padding-small",tooltip:"Есть на графике",icon:"LineGraphIn","color-var":"--color-info-blue","route-name":"JGraph",trigger:d(z)>-1},null,8,["trigger"])),e.isSelect?r("v-if",!0):(n(),i(p,{key:3,class:"w3-padding-small",tooltip:d(j),icon:"CodesActive","color-var":"--color-alarm","route-name":"JActiveCodes",trigger:d(O)},null,8,["tooltip","trigger"]))]),h("div",me,[h("div",{class:"w3-card w3-margin-left w3-round padding-2",style:o(`display: inline-grid; background-color: #${u.value}40`)},[h("label",ge,_(l.value),1)],4)])])}}}),[["__file","/home/pavel/Документы/WEBPROJECTS/WebEmbeddedGithub/src/components/j1939/components/JParams/Spns/SpnOneC.vue"]]),be={key:0},fe={key:0,class:"w3-card"},he={class:"w3-bar-item padding-2"},_e={class:"w3-bar"},ye=h("label",{class:"w3-bar-item padding-2",style:{"font-size":"16px","font-weight":"bold"}},"Получен от устройства: ",-1),Se={class:"w3-bar-item padding-2"},ke={class:"w3-bar"},Pe=h("label",{class:"w3-bar-item padding-2",style:{"font-size":"16px","font-weight":"bold"}},"Название: ",-1),Ce={class:"w3-bar-item description-value padding-2"},Ie={class:"w3-bar"},Ee=h("label",{class:"w3-bar-item padding-2",style:{"font-size":"16px","font-weight":"bold"}},"Значение: ",-1),xe={class:"w3-bar-item padding-2 description-value"},Be={class:"w3-bar"},Ge=h("label",{class:"w3-bar-item padding-2",style:{"font-size":"16px","font-weight":"bold"}},"Перевод: ",-1),Oe={class:"w3-bar"},je=h("label",{class:"w3-bar-item padding-2",style:{"font-size":"16px","font-weight":"bold"}},"Описание: ",-1),ze={class:"w3-bar-item padding-2 description-value"},De=h("label",{class:"padding-2",style:{"font-size":"16px","font-weight":"bold"}},"Параметры в группе: ",-1),Je={class:"params-list"},Te={key:1},We=c(l({__name:"PgnDescriptionC",props:{pgnId:{type:String,required:!0}},setup(e){var a;const l=e,s=v(!1),t=v(),o=v([]),p=v([]),u=l.pgnId.split("_")[0],c=(null==(a=P.availableEcus.value.find((e=>e.srcAdr.toString()===u)))?void 0:a.alias)||"",m=w((()=>{var e;const a=null==(e=P.allPgns.value.find((e=>e._id===l.pgnId)))?void 0:e.d.value;return a?O(a):""})),g=w((()=>{var e,a;return P.langIsRu.value?null==(e=t.value)?void 0:e.name_ru:null==(a=t.value)?void 0:a.name_en})),S=w((()=>{var e,a;return P.langIsRu.value?null==(e=t.value)?void 0:e.descr_ru:null==(a=t.value)?void 0:a.descr_en}));return b((async()=>{t.value=await P.getPgnTemplate(l.pgnId),t.value&&(p.value=t.value.spns.map((e=>e.SPNd))||[],o.value=P.allSpns.value.filter((e=>p.value.includes(e.id))),s.value=!0)})),(e,a)=>{const l=T,p=we;return s.value?(n(),f("div",be,[t.value?(n(),f("div",fe,[h("label",he,_(t.value.short),1),h("div",_e,[ye,h("label",Se,_(d(u))+" ("+_(d(c))+")",1)]),h("div",ke,[Pe,h("span",Ce,_(d(g)),1)]),h("div",Ie,[Ee,h("label",xe,_(d(m)),1)]),h("div",Be,[Ge,y(l,{class:"w3-bar-item padding-2"})]),h("div",Oe,[je,h("label",ze,_(d(S)),1)]),De,h("div",Je,[(n(!0),f(j,null,z(o.value,(e=>(n(),i(p,{key:e._id,spn:e},null,8,["spn"])))),128))])])):(n(),f("span",Te,"Нет информации"))])):r("v-if",!0)}}}),[["__file","/home/pavel/Документы/WEBPROJECTS/WebEmbeddedGithub/src/components/j1939/components/JParams/Pgns/PgnDescriptionC.vue"]]),Re={key:0},qe=c(l({__name:"PgnOneInfoButC",props:{pgnId:{type:String,required:!0}},setup(a){const l=a;console.log("PgnOneInfo created pgnId ",l.pgnId);const s=v(!1),d=v(!1),o=v();return b((async()=>{var e;o.value=await P.getPgnTemplate(l.pgnId),o.value&&(null==(e=o.value)?void 0:e.short)&&(s.value=!0)})),(l,p)=>{const u=We,c=e;return s.value?(n(),f("div",Re,[y(c,null,{trigger:t((()=>[h("span",{class:"w3-hover-grayscale icon-button w3-hover-text-theme w3-text-theme-ok",onClick:p[0]||(p[0]=e=>{d.value=!d.value})},"("+_(o.value.short||"?")+")",1)])),content:t((()=>[d.value?(n(),i(u,{key:0,pgnId:a.pgnId},null,8,["pgnId"])):r("v-if",!0)])),_:1})])):r("v-if",!0)}}}),[["__file","/home/pavel/Документы/WEBPROJECTS/WebEmbeddedGithub/src/components/j1939/components/JParams/Pgns/PgnOneInfoButC.vue"]]);export{qe as _,oe as a,we as b};
