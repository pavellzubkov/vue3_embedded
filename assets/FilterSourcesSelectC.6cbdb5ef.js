import{d as e,l as a,C as t,o as l,c as s,a as o,E as r,b as n,w as d,j as i,k as c,_ as u,P as p,g as m,J as v,e as w,t as f,u as g,F as b,r as _,H as h,I as y}from"./index.45d9d9f8.js";import{b as x}from"./NotificationsClass.47f868da.js";const C={key:0,class:"w3-dropdown-content w3-card w3-round w3-show animate__faster w3-theme-l4",style:{height:"180px",width:"200px","overflow-y":"auto","overflow-x":"hidden"}},k=u(e({__name:"MySelectC",setup(e,{expose:u}){const p=a(!1),m=a(),v=()=>{p.value=!p.value};return t(m,(e=>{p.value=!1})),u({toggleVis:v}),(e,a)=>(l(),s("div",{class:"w3-dropdown-click",ref_key:"content",ref:m},[o("div",{onClick:v,style:{position:"relative"}},[r(e.$slots,"trigget")]),n(c,{appear:"","enter-active-class":"animate__animated animate__fadeInUp","leave-active-class":"animate__animated animate__fadeOutDown",mode:"out-in"},{default:d((()=>[p.value?(l(),s("div",C,[r(e.$slots,"options",{class:"w3-bar w3-bar-block"})])):i("v-if",!0)])),_:3})],512))}}),[["__file","/home/pavel/Документы/WEBPROJECTS/WebEmbeddedGithub/src/components/UICommon/MySelectC.vue"]]),S={class:"w3-button w3-border w3-round padding-2"},E={class:"w3-ul w3-hover-border-theme",style:{"min-width":"180px"}},A={class:"w3-display-left"},V=["onUpdate:modelValue","onChange"],O={class:"w3-padding-small"},j=u(e({__name:"FilterSourcesSelectC",props:{modelValue:{type:Array,reqired:!0,default:()=>[]},butText:{type:String,default:()=>"Источники"},onlyOne:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const r=e,i=p(r,"modelValue",t),c=a("alarm"),u=a(),C=m((()=>v.availableEcus.value.map((e=>(e.selected=-1!==i.value.findIndex((a=>a===e.srcAdr)),e))))),j=m((()=>{let e="все";c.value="ok";const a=C.value.filter((e=>e.selected)).length;return 0===a||a===C.value.length||(e=a.toString(),c.value="warn"),e}));return(a,t)=>{const p=x,m=k;return l(),w(m,{ref_key:"select",ref:u},{trigget:d((()=>[o("button",S,f(e.butText),1),n(p,{"badge-text":g(j),"text-right-proc":-20,"text-top-proc":-20,"badge-type":c.value},null,8,["badge-text","badge-type"])])),options:d((()=>[o("ul",E,[(l(!0),s(b,null,_(g(C),(e=>(l(),s("li",{key:e.srcAdr,class:"w3-display-container w3-border-0 w3-margin"},[o("div",A,[h(o("input",{class:"w3-check w3-theme",type:"checkbox","onUpdate:modelValue":a=>e.selected=a,onChange:a=>(e=>{const a=C.value.filter((e=>e.selected));if(r.onlyOne){if(e.selected)return 1!=a.length&&C.value.forEach((a=>{a.selected=a.srcAdr===e.srcAdr})),i.value=[e.srcAdr],void u.value.toggleVis();i.value=[],u.value.toggleVis()}else i.value=a.map((e=>e.srcAdr))})(e)},null,40,V),[[y,e.selected]]),o("label",O,f(e.srcAdr)+" ("+f(e.alias)+")",1)])])))),128))])])),_:1},512)}}}),[["__file","/home/pavel/Документы/WEBPROJECTS/WebEmbeddedGithub/src/components/j1939/components/JParams/Filter/FilterSourcesSelectC.vue"]]);export{k as _,j as a};
