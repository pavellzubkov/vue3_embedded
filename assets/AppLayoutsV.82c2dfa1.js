import{N as e,_ as a}from"./NotificationsClass.1488b90c.js";import{d as t,o as l,c as n,a as i,t as s,n as o,b as r,w as c,F as d,r as u,u as m,T as p,e as v,f as b,g as _,R as w,h as g,i as h,j as f,k as y,J as C,l as k,m as S,p as x,q as I,G as N,s as O,v as L,x as j,W as P,y as A,L as z,z as E,A as T,B,C as F}from"./index.3d8eecac.js";import{_ as G}from"./AppMainV.vue_vue_type_script_setup_true_lang.f40931f1.js";import{_ as D}from"./_plugin-vue_export-helper.cdc0426e.js";import{G as J}from"./GraphDataClass.22dbb449.js";import{_ as M}from"./MyDialogC.5a19b343.js";import{_ as $}from"./PgnOneInfoButC.vue_vue_type_script_setup_true_lang.bb517e1f.js";import{_ as U}from"./MySwitchC.634f0b7a.js";import{S as q}from"./SwitchDarkModeC.fb9de2f5.js";import"./LangSelectSwitchC.vue_vue_type_script_setup_true_lang.e21d6001.js";const R=t({__name:"NotifiOneC",props:{notif:{type:Object,default:()=>null}},setup(a){const t=a,r=()=>{var a;e.deleteNotifi(null==(a=t.notif)?void 0:a.id)};return(e,t)=>(l(),n("div",{class:o(`w3-panel w3-theme-badge-${a.notif.type} w3-card-4 w3-display-container w3-round-medium`),style:{"z-index":"100000","min-width":"300px"}},[i("button",{class:"w3-button w3-round-large w3-display-topright w3-hover-shadow w3-hover-opacity",onClick:r},"X"),i("h5",null,s(a.notif.title),1),i("span",null,s(a.notif.text),1)],2))}}),V={class:"w3-display-container w3-bar-block"},W={class:"w3-display-topright"},K=t({__name:"NotificationsC",setup(a){const t=e.notificationList;return(e,a)=>{const s=R;return l(),n("div",V,[i("div",W,[r(p,{name:"flip-list",tag:"div","enter-active-class":"animate__animated animate__slideInDown","leave-active-class":"animate__animated animate__slideOutRight"},{default:c((()=>[(l(!0),n(d,null,u(m(t),(e=>(l(),v(s,{key:e.id,notif:e,class:"animate__faster"},null,8,["notif"])))),128))])),_:1})])])}}}),X=D(t({__name:"GoFullScreenButC",props:{el:{type:Object,default:null}},setup(e){const t=e,{isFullscreen:i,enter:s,exit:o,toggle:c}=b(t.el),d=_((()=>i.value?"FullScreenMin":"FullScreenMax"));return(e,t)=>{const s=a;return l(),n("div",null,[r(s,{icon:m(d),tooltip:m(i)?"Свернуть":"На весь экран",class:"icon-button",onClick:m(c)},null,8,["icon","tooltip","onClick"])])}}}),[["__scopeId","data-v-f9140c1f"]]),Y={key:0},H=D(t({__name:"GoToGraphButC",setup(e){const t=J.isListNotEmpty,i=_((()=>J.isDatastart.value?"Play":"Pause")),s=_((()=>J.isDatastart.value?"#11b139":"#113eb1"));return(e,o)=>{const d=a;return l(),v(y,{appear:"","enter-active-class":"animate__animated animate__slideInDown","leave-active-class":"animate__animated animate__slideOutUp",mode:"out-in"},{default:c((()=>[m(t)?(l(),n("div",Y,[r(d,{class:"icon-button",onClick:o[0]||(o[0]=e=>m(w).goToName("JGraph")),"with-badge":"",icon:"LineGraph",tooltip:"Перейти к графику"},{default:c((()=>[(l(),v(g(m(i)),{class:"icon-graph-nest",style:h(`color: ${m(s)}`)},null,8,["style"]))])),_:1})])):f("",!0)])),_:1})}}}),[["__scopeId","data-v-c44a2b6b"]]),Q={key:0},Z=t({__name:"JActiveCodesButC",setup(e){const t=C.ErrorsDecoder.activeErrorsArr,i=_((()=>t.value.length)),s=k("icon-button"),d=k("0");return S((()=>i.value),(async(e,a)=>{d.value=e.toString(),a&&(e<a||(s.value="icon-button animate__animated animate__shakeY animate__repeat-1 icon-button",await x(1200),s.value="icon-button"))}),{immediate:!0}),(e,t)=>{const i=a;return l(),v(y,{appear:"","enter-active-class":"animate__animated animate__zoomIn","leave-active-class":"animate__animated animate__zoomOut",mode:"out-in"},{default:c((()=>["0"!==d.value?(l(),n("div",Q,[r(i,{class:o(s.value),icon:"CodesActive",tooltip:"Активные ошибки.Подробнее...","badge-text":d.value,onClick:t[0]||(t[0]=e=>m(w).goToName("JActiveCodes"))},null,8,["class","badge-text"])])):f("",!0)])),_:1})}}}),ee=t({__name:"PgnBlinkDotC",props:{blink:{type:Boolean,requided:!0}},setup(e){const a=e,t=k("");return S((()=>a.blink),(()=>{t.value="background-color: "+(a.blink?"#11b139":"#7d7d7f")})),(e,a)=>(l(),n("span",{class:"my-blink-dot",style:h(t.value)},null,4))}}),ae={class:"w3-card-2 w3-hover-shadow w3-border-theme w3-border w3-round-medium w3-padding-small"},te={class:"w3-bar"},le={class:"w3-bar-item w3-padding-small"},ne={class:"w3-bar-item padding-2"},ie={class:"w3-bar-item padding-2 w3-right",style:{display:"inline-grid"}},se={class:"fill-content-dots"},oe=t({__name:"PgnOneC",props:{pgn:{type:Object,required:!0}},setup(e){const a=e,t=k(!1);S((()=>a.pgn),(()=>{t.value=!t.value}));const o=_((()=>I(a.pgn.d.value)));return(a,c)=>{const d=$,u=ee;return l(),n("div",ae,[i("div",te,[i("span",le,s(e.pgn.lid),1),i("span",ne," ("+s(e.pgn.srsAdr)+") ",1),r(d,{"pgn-id":e.pgn._id,class:"w3-bar-item padding-2"},null,8,["pgn-id"]),r(u,{blink:t.value,class:"w3-bar-item w3-padding-small"},null,8,["blink"]),i("div",ie,[i("span",se,s(m(o)),1)])])])}}}),re={style:{"margin-top":"30px"}},ce=t({__name:"PgnsInfoC",setup(e){const a=C.allPgns;return(e,t)=>{const i=oe;return l(),n("div",re,[(l(!0),n(d,null,u(m(a),(e=>(l(),n("div",{key:e._id},[r(i,{pgn:e},null,8,["pgn"])])))),128))])}}}),de=t({__name:"PgnsInfoButC",setup:e=>(k(!1),(e,t)=>{const n=a,i=ce,s=M;return l(),v(s,null,{trigger:c((()=>[r(n,{icon:"List",tooltip:"Подробнее",class:"icon-button update-but"})])),content:c((()=>[r(i)])),_:1})})}),ue={key:0,class:"w3-bar"},me=i("label",{class:"w3-bar-item w3-padding-small",style:{"font-size":"16px","font-weight":"bold"}},"Генератор фейковых сообщений: ",-1),pe=t({__name:"FakeSwitchC",props:{hideSwitch:{type:Boolean,required:!0}},setup(e){const a=e,t=N.fakeGenIsEnabled;let i;const s=k(!a.hideSwitch);return S((()=>t.value),(()=>{C.resetAll(),t.value?O.start():O.stop()})),S((()=>a.hideSwitch),(()=>{a.hideSwitch?(clearTimeout(i),i=null,s.value=!1):(J.stop(),i=setTimeout((()=>{s.value=!0}),4e3))})),L((()=>clearTimeout(i))),(e,a)=>{const i=U;return l(),v(y,{appear:"","enter-active-class":"animate__animated animate__bounceIn","leave-active-class":"animate__animated animate__bounceOut",mode:"out-in"},{default:c((()=>[s.value?(l(),n("div",ue,[me,r(i,{class:"w3-bar-item",modelValue:m(t),"onUpdate:modelValue":a[0]||(a[0]=e=>j(t)?t.value=e:null)},null,8,["modelValue"])])):f("",!0)])),_:1})}}}),ve={class:"w3-bar"},be={class:"w3-bar-item"},_e={class:"w3-bar"},we=i("label",{class:"w3-bar-item",style:{"font-size":"16px","font-weight":"bold"}},"Websocket: ",-1),ge={class:"w3-bar"},he=i("label",{class:"w3-bar-item",style:{"font-size":"16px","font-weight":"bold"}},"J1939: ",-1),fe={class:"w3-bar"},ye=i("label",{class:"w3-bar-item",style:{"font-size":"16px","font-weight":"bold"}},"Сообщения: ",-1),Ce={class:"w3-bar-item description-value"},ke={class:"w3-bar-item w3-padding-small"},Se={class:"w3-bar"},xe=i("label",{class:"w3-bar-item",style:{"font-size":"16px","font-weight":"bold"}},"Передающиx ECU: ",-1),Ie={class:"w3-bar-item description-value"},Ne={class:"w3-bar"},Oe=i("label",{class:"w3-bar-item",style:{"font-size":"16px","font-weight":"bold"}},"Групп параметров PGN: ",-1),Le={class:"w3-bar-item description-value"},je={class:"w3-bar"},Pe=i("label",{class:"w3-bar-item",style:{"font-size":"16px","font-weight":"bold"}},"Параметров SPN: ",-1),Ae={class:"w3-bar-item description-value"},ze=t({__name:"JConnectionStatusInfoC",setup(e){const t=P.wsStatus,o=_((()=>C.isConnected.value?"OK":"FAIL")),c=C.messageCounter,d=_((()=>{switch(t.value){case"CLOSED":return"--color-alarm";case"OPEN":return"--color-ok";default:return"--color-info"}})),u=_((()=>o.value?"color:var(--color-ok)":"color:var(--color-alarm)")),p=_((()=>"OPEN"==t.value&&C.isConnected.value&&!C.isFakedStream.value)),v=_((()=>C.availableEcus.value.length)),b=_((()=>C.allPgns.value.length)),g=_((()=>C.allSpns.value.length)),f=C.resetMessageCounter,y=C.resetEcusList,k=C.resetAllPgns,S=C.resetAllSpns,x=()=>{w.goToName&&w.goToName("J1939")};return(e,_)=>{const w=pe,C=a,I=de;return l(),n("div",null,[i("div",ve,[i("div",be,[r(w,{"hide-switch":m(p)},null,8,["hide-switch"])])]),i("div",_e,[we,i("span",{class:"description-value w3-bar-item",style:h(`color:var(${m(d)})`)},s(m(t)),5)]),i("div",ge,[he,i("span",{class:"w3-bar-item description-value",style:h(m(u))},s(m(o)),5)]),i("div",fe,[ye,i("span",Ce,s(m(c)),1),i("div",ke,[r(C,{icon:"Update",tooltip:"Сбросить",class:"icon-button",onClick:m(f)},null,8,["onClick"])])]),i("div",Se,[xe,i("span",Ie,s(m(v)),1),r(C,{icon:"Update",tooltip:"Сбросить",class:"icon-button w3-bar-item w3-padding-small",onClick:m(y)},null,8,["onClick"])]),i("div",Ne,[Oe,i("span",Le,s(m(b)),1),r(I,{class:"w3-bar-item w3-padding-small"}),r(C,{icon:"Update",tooltip:"Сбросить",class:"icon-button w3-bar-item w3-padding-small",onClick:m(k)},null,8,["onClick"])]),i("div",je,[Pe,i("span",Ae,s(m(g)),1),r(C,{icon:"List",tooltip:"Показать...",class:"icon-button w3-bar-item w3-padding-small",onClick:x}),r(C,{icon:"Update",tooltip:"Сбросить",class:"icon-button w3-bar-item w3-padding-small",onClick:m(S)},null,8,["onClick"])])])}}}),Ee=t({__name:"JConnectionStatusButC",setup(e){const t=k(!1),i=_((()=>C.isConnected.value?"ConnectOk":"ConnectFail")),s=_((()=>{let e="#7d7d7f";return C.isConnected.value?(e=C.isFakedStream.value?"#f8ad62":"#5caf09",`color: ${e}`):`color: ${e}`}));function o(){t.value=!t.value}return A((async()=>{await C.updateAllFiles(),N.fakeGenIsEnabled.value&&O.start()})),(e,t)=>{const d=a,u=ze,p=M;return l(),n("div",null,[r(p,null,{trigger:c((()=>[r(d,{icon:m(i),style:h(m(s)),class:"icon-button",tooltip:"Соединение подробнее",onClick:o},null,8,["icon","style"])])),content:c((()=>[r(u)])),_:1})])}}});const Te=D({},[["render",function(e,a){const t=Ee,i=Z,s=H;return l(),n("div",null,[r(t,{class:"w3-bar-item"}),r(i,{class:"w3-bar-item"}),r(s,{class:"w3-bar-item"})])}]]),Be={class:"w3-bar"},Fe={class:"w3-bar-item w3-right padding-0"},Ge=t({__name:"Navbar",setup:e=>(e,t)=>{const s=a,o=Te,c=X;return l(),n("div",Be,[r(s,{icon:"List",class:"w3-bar-item icon-button",tooltip:"Меню",size:"default",onClick:t[0]||(t[0]=e=>m(z).toggleSidebar())}),r(o,{class:"w3-bar-item padding-0"}),i("div",Fe,[r(q,{class:"w3-bar-item w3-margin-right"}),r(c,{class:"w3-bar-item w3-right"})])])}}),De={class:"menu-label"},Je={key:0,class:"menu-sub"},Me=D(t({__name:"SidebarItem",props:{item:{type:Object,required:!0},isNest:{type:Boolean,default:!1},basePath:{type:String,default:""}},setup(e){const t=k((e=>{if(!e.children||0===e.children.length)return e;const a=e.children.filter((e=>{var a;return!(null==(a=e.meta)?void 0:a.hidden)}));return 1===a.length?a[0]:e})(e.item)),m=k(!1),p=k("w3-bar-item padding-2 w3-hover-theme"),b=()=>{var e;t.value.children&&(null==(e=t.value.children)?void 0:e.length)>1?(m.value=!m.value,p.value=m.value?"w3-bar-item padding-2":"w3-bar-item padding-2 w3-hover-theme"):w.goToName(t.value.name)};return A((()=>{})),(_,w)=>{const g=a,h=E("SidebarItem",!0);return e.item.meta.hidden?f("",!0):(l(),n("div",{key:0,class:o(`${p.value} ${e.item.children&&e.item.children.length>1?"menu-sub-parent":""}`)},[i("div",{class:"menu-item",onClick:b},[r(g,{icon:t.value.meta.icon},null,8,["icon"]),i("label",De,s(t.value.meta.title),1)]),r(y,{name:"flip-list",tag:"div","enter-active-class":"animate__animated animate__slideInLeft animate__faster","leave-active-class":"animate__animated animate__slideOutLeft animate__faster"},{default:c((()=>[!e.item.meta.hidden&&e.item.children&&e.item.children.length>1&&m.value?(l(),n("div",Je,[(l(!0),n(d,null,u(e.item.children,(e=>(l(),v(h,{key:e.path,item:e},null,8,["item"])))),128))])):f("",!0)])),_:1})],2))}}}),[["__scopeId","data-v-7ad37728"]]),$e={class:"w3-bar-block"},Ue=D(t({__name:"AppMenuC",setup(e){T(),_((()=>z.viewRect.value.height));z.isSidebarCollapsed;const a=_((()=>w.acessibleRoutes.value.filter((e=>!e.meta.hidden))));return A((()=>{})),(e,t)=>(l(),n("div",$e,[(l(!0),n(d,null,u(m(a),(e=>(l(),v(Me,{key:e.path,item:e,"base-path":e.path},null,8,["item","base-path"])))),128))]))}}),[["__scopeId","data-v-bd6a1354"]]),qe={style:{"padding-top":"5px"}},Re=t({__name:"SidebarLogoC",setup(e){const t=B({logo:"d",title:"JScan"}),o=()=>{w.goToName&&w.goToName("J1939")};return A((async()=>{})),(e,c)=>{const d=a;return l(),n("div",{class:"w3-container",style:{display:"inline-flex","align-items":"center",height:"var(--nav-bar-height)",width:"100%",cursor:"pointer"},onClick:o},[r(d,{icon:"Engine",class:"w3-bar-item",style:{width:"60px"}}),i("h4",qe,s(t.title),1)])}}}),Ve=t({__name:"SidebarC",setup(e){const a=k(),t=z.isSidebarCollapsed;return F(a,(e=>{t.value||z.toggleSidebar()})),(e,i)=>(l(),v(y,{name:"flip-list",tag:"div","enter-active-class":"animate__animated animate__slideInLeft","leave-active-class":"animate__animated animate__slideOutLeft"},{default:c((()=>[m(t)?f("",!0):(l(),n("div",{key:0,ref_key:"sidebar",ref:a,class:"w3-sidebar w3-light-grey w3-bar-block animate__faster w3-card-4",style:{width:"var(--side-menu-expanded-width)","background-color":"var(--color-bg)"}},[r(Re,{class:"w3-theme"}),r(Ue)],512))])),_:1}))}}),We=t({__name:"AppLayoutsV",setup(e){const a=_((()=>z.isSidebarCollapsed.value?"":"filter: blur(5px)"));return S((()=>z.viewRect.value),(()=>null)),(e,t)=>{const s=K;return l(),n(d,null,[r(s),r(Ve),r(Ge,{class:"w3-theme",style:h(`height: var(--nav-bar-height);${m(a)}`)},null,8,["style"]),i("div",{class:"app-container",style:h(m(a))},[r(G)],4)],64)}}});export{We as default};
