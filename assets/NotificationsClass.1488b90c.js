var t=Object.defineProperty,e=(e,i,o)=>(((e,i,o)=>{i in e?t(e,i,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[i]=o})(e,"symbol"!=typeof i?i+"":i,o),o);import{d as i,l as o,D as a,m as s,L as l,y as n,o as r,c as u,E as d,n as p,i as c,t as g,j as b,e as y,w as f,h,b as v}from"./index.3d8eecac.js";const x=["aria-label"],m=i({__name:"MyTooltipC",props:{text:{type:String,default:()=>""},positionVert:{type:String,default:()=>"auto"},positionHor:{type:String,default:()=>"auto"}},setup(t){const e=t;o("");const i=o(),p=a(i);const c=["hint--rounded","hint--timeout","hint--bounce"],g=t=>{i.value&&Array.isArray(t)&&i.value.classList.remove(...t)};s(l.isDeviceMobile,(()=>{l.isDeviceMobile.value?function(t,e){const i=new RegExp("\\b"+e+".*?\\b","g");t.className=t.className.replace(i,"")}(i.value,"hint--"):i.value.classList.add(...c)})),s(p,(()=>{if(!i.value)return;if(""===e.text)return;i.value.removeAttribute("title");const t=i.value.getBoundingClientRect();l.isDeviceMobile.value?g(c):p.value?(c[3]=b(t),i.value.classList.add(...c)):g([c[3]])}));const b=t=>{let i=`-${e.positionVert}`;"not"===e.positionVert&&(i=""),"auto"===e.positionVert&&(i=(t=>t.y<80?"-bottom":l.scrH.value-t.y<80?"-top":"-bottom")(t));let o=`-${e.positionHor}`;return"not"===e.positionHor&&(o=""),"auto"===e.positionHor&&(o=(t=>t.x<80?"-right":l.scrW.value-t.x<80?"-left":"-right")(t)),`hint-${i}${o}`};return n((()=>{""!==e.text&&(l.isDeviceMobile.value||i.value.classList.add(...c))})),(e,o)=>(r(),u("div",{ref_key:"hintEl",ref:i,"aria-label":t.text,role:"tooltip",title:"b",onClick:g},[d(e.$slots,"default")],8,x))}}),w={key:1,class:"w3-badge w3-large badge-is-dot",style:{position:"absolute",right:"-15%",top:"-30%"}},T=i({__name:"MyBadgeC",props:{badgeIsDot:{type:Boolean,default:!1},badgeIsButton:{type:Boolean,default:!1},badgeText:{type:String,default:"●"},badgeType:{type:String,default:"alarm"},textRightProc:{type:Number,default:-2},textTopProc:{type:Number,default:2}},setup:t=>(e,i)=>(r(),u("div",null,["●"!==t.badgeText?(r(),u("div",{key:0,class:p(`w3-badge w3-tiny w3-round-xxlarge w3-theme-badge-${t.badgeType} ${t.badgeIsButton?"icon-button":""}`),style:c(`position: absolute; right: ${t.textRightProc}%; top: ${t.textTopProc}%`)},g(t.badgeText),7)):b("",!0),t.badgeIsDot?(r(),u("div",w,g(t.badgeText),1)):b("",!0)]))}),_=i({__name:"MyIconC",props:{icon:{type:String,required:!0},tooltip:{type:String,default:""},withBadge:{type:Boolean,default:!1},badgeIsDot:{type:Boolean,default:!1},badgeText:{type:String,default:"●"},badgeType:{type:String,default:"alarm"},badgeRightProc:{type:Number,default:-2},badgeTopProc:{type:Number,default:2},size:{type:String,default:"default"},tooltipPosVert:{type:String,default:()=>"auto"},tooltipPosHor:{type:String,default:()=>"auto"}},setup(t){const e=`icon-size-${t.size}`;return(i,o)=>{const a=m;return r(),y(a,{style:{position:"relative",display:"flex"},text:t.tooltip,"position-vert":t.tooltipPosVert,"position-hor":t.tooltipPosHor},{default:f((()=>[(r(),y(h(t.icon),{class:p(`${e}`)},null,8,["class"])),v(T,{"badge-is-dot":t.badgeIsDot,"badge-text":t.badgeText,"badge-type":t.badgeType,"text-right-proc":t.badgeRightProc,"text-top-proc":t.badgeTopProc},null,8,["badge-is-dot","badge-text","badge-type","text-right-proc","text-top-proc"]),d(i.$slots,"default",{class:"w3-badge w3-large",style:"position: absolute; right: -2%; top: -30%"})])),_:3},8,["text","position-vert","position-hor"])}}});const L=new class{constructor(){e(this,"intervalId"),e(this,"_clearNotifiByTimeout",(()=>{0!==this.notificationList.value.length&&(this.notificationList.value=this.notificationList.value.filter((t=>Date.now()-(t.id+t.duration_ms)<0)))})),e(this,"notificationList",o([])),e(this,"showNotify",(t=>{const e={id:Date.now(),type:t.type,duration_ms:t.duration_ms,text:t.text,title:t.title};this.notificationList.value.unshift(e)})),e(this,"deleteNotifi",(t=>{const e=this.notificationList.value.findIndex((e=>e.id===t));e>-1&&this.notificationList.value.splice(e,1)})),e(this,"isShowing",(()=>this.notificationList.value.length>0)),this.intervalId=setInterval(this._clearNotifiByTimeout,100)}};export{L as N,_,m as a,T as b};
